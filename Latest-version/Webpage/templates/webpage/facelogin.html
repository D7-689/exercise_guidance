{% load static %}
<!DOCTYPE html>
    <html>
        <head>
            <meta charset="utf-8">
            <title>Face login</title>
        </head>
        <body>
            <div class = "center">
                <h2>Face login</h2>
                <form method="POST" id='face-login-form'  enctype="multipart/form-data">       <!--form tag is a container -->
 
                    <div class="txt_field">
                        {% csrf_token %}
                        <!-- {{form.username}}  -->
                        <input type="username" name="username"  required>  
                        <span></span>
                        <label>UserName</label>
                    </div>                    
                    <!-- <div class="txt_field">
                        {% csrf_token %}
                        <input type="password" name="password"  required>        
                        <span></span>
                        <label>Password </label>  
                    </div> -->
                    {% csrf_token %}
                    {{form.image}}
                    <!--Not work-->
                    {%for message in messages %}
                        {%if "facelogin_message" in message.tags %}
                        <div class="alert-success">
                            <a class="close"  data-dismiss="alert">*{{message}}</a>  
                        </div> 
                        {%endif%}    
                    {%endfor%}
                    <!--temporary-->
                    {% if form.errors %}
                        {% for field in form %}
                            {% for error in field.errors %}
                            <p>Username or face id didn't match</p>  
                            {% endfor %}
                        {% endfor %}
                        {% for error in form.non_field_errors %}
                            {{ error }}
                            <p>{{message}}</p>
                        {% endfor %}
                    {% endif %}

                    <div class="style_secondpart">    
                            <!-- <button id="video-button" class="next-button">Next</button> -->
                        <video id="screenshot-video" class="video_dis" autoplay></video>
                        <br>
                        <div class="p_space"></div>
                        <button id="login-button" class="log-button" >Login</button>
                        <br>
                        <div class="p_space"></div>
                    </div> 
                </form>
                <!-- {% for message in messages %}
                    <p>{{message}}</p>
                {% endfor %} -->
                <!-- {% for hidden_field in form.hidden_fields %}     
                    {{ hidden_field.errors }}{{ hidden_field }}   
                {% endfor %} -->

  
            </div>
        </body>
    </html>
<style>
    body{
        margin: 0;
        padding: 0;
        background: #7abecc;
    }

    .center{
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%,-50%);
        width: 400px;
        background: white;
        border-radius: 14px;
        border: 3px solid black;

    }
    .center h2{
        text-align: center;
        padding: 0 0 15px 0;
        border-bottom: 1px solid gray;
    }
    .center form{
        padding: 0 20px ;
        box-sizing: border-box;
    }
    form .txt_field{
        position: relative;
        border-bottom: 2px solid #adadad;
        margin: 30px 0;
    }
    .txt_field input{
        width: 100%;
        padding: 0 5px;
        height: 40px;
        font-size: 16px;
        border: none;
        outline: none;
    }
    .txt_field label{
        position: absolute;
        top: 50%;
        left: 5px;
        color: gray;
        transform: translateY(-50%);
        pointer-events: none;
        transition: .5s;
    }
    .txt_field span::before{
        content: '';
        position: absolute;
        top: 40px;
        left: 0;
        width: 100%;
        height: 2px;
        background: gray;
        transition: .5s;
    }
    .txt_field :focus ~ label,
    .txt_field :valid ~ label{
        top: -5px;
        color: black;

    }
    .txt_field input:focus ~ span::before,
    .txt_field input:valid ~ span::beforel{
        width: 100%;
    }
    .video_dis {   
        height: 100%;
        pointer-events: none;
        cursor: default;
        width: 100%;
        border: 3px solid black;
    }
    .style_secondpart{
        padding: 0 20px ;
        box-sizing: border-box;
    }
    .log-button{
        width: 100%;
        height: 50px;
        padding:0 15px;
        border: 1px solid;
        background: #1E90FF;
        border-radius: 25px;
        font-size: 20px;
        color: white;
        font-weight: 600;
        cursor: pointer;
        outline: none;
    }
    .log-button:hover{
        border-color: #1E90FF;
        transition: .5s;
    }  
    .p_space{
        padding:10px;
    } 
    .message{
        font-size: 15px;
        margin: 30px 0;
        color: red;
    }
    .alert-success{
    font-size: 15px;
    margin: -5px 0 20px 5px;
    color: red;
    } 
    .close{
    color: red;
    } 
</style>
<script type="text/javascript" src="{% static 'authentication/js/login.js' %}"></script>
